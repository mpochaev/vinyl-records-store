<!-- fragments/nav.html -->
<nav xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
     th:fragment="navBar">

    <a th:href="@{/}">Главная</a> |
    <a th:href="@{/catalog}">Каталог</a> |
    <a th:href="@{/about}">О нас</a> |

    <span sec:authorize="isAnonymous()">
        <a th:href="@{/login}">Войти</a> |
        <a th:href="@{/register}">Регистрация</a>
    </span>

    <span sec:authorize="hasRole('USER')">
        <a th:href="@{/account}">Аккаунт</a> |
        <li>
        <form th:action="@{/logout}" method="post" style="display:inline;">
        <input type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>

            <button type="submit"
                class="nav-link btn btn-link p-0 m-0"
                style="padding: 0; border: none; background: none;">
            Выйти
            </button>
        </form>
        </li>
    </span>

    <span sec:authorize="hasRole('ADMIN')">
        <a th:href="@{/admin/vinyls}">Админ-панель</a> |
        <li>
        <form th:action="@{/logout}" method="post" style="display:inline;">
        <input type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>

            <button type="submit"
                    class="nav-link btn btn-link p-0 m-0"
                    style="padding: 0; border: none; background: none;">
            Выйти
            </button>
        </form>
        </li>
    </span>
</nav>
<hr/>