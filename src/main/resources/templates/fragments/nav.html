<!-- fragments/nav.html -->
<head>
    <meta charset="UTF-8">
    <title>Navbar</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<nav xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
     th:fragment="navBar">

    <a th:href="@{/}">Главная</a> |
    <a th:href="@{/catalog}">Каталог</a> |
    <a th:href="@{/about}">О нас</a> |

    <span sec:authorize="isAnonymous()">
        <a th:href="@{/login}">Войти</a> |
        <a th:href="@{/register}">Регистрация</a>
    </span>

    <span sec:authorize="hasRole('USER')">
        <a th:href="@{/account}">Аккаунт</a> |
        <form th:action="@{/logout}" method="post" style="display:inline;">
            <input type="hidden"
                   th:name="${_csrf.parameterName}"
                   th:value="${_csrf.token}"/>

            <button type="submit" class="logout-link">Выйти</button>
        </form>
    </span>

    <span sec:authorize="hasRole('ADMIN')">
        <a th:href="@{/admin/vinyls}">Пластинки</a> |
        <a th:href="@{/admin/orders}">Заказы</a> |

        <form th:action="@{/logout}" method="post" style="display:inline;">
        <input type="hidden"
               th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}"/>

            <button type="submit" class="logout-link">Выйти</button>
        </form>

    </span>
</nav>
<hr/>